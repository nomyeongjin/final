<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가게 상세 조회 페이지</title>

     <!-- templetes/common/common.html  조각 추가 -->
     <th:block th:replace="~{common/common}"></th:block>

     <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=c0a61513c1f514ea458fa903130cb59a&libraries=services,clusterer,drawing"></script>


     <link rel="stylesheet" href="/css/store/storeDetail.css">

</head>
<body id="bodyTop">
    <main>

    <!-- templetes/common/header.html  조각 추가 -->
     <th:block th:replace="~{common/header}"></th:block>



     <!-- section 1 가게 상세 -->
     <!-- 가게 사진 , 식당 이름, 북마크, 지역, 카테고리, 별점, 지도, 가게 정보,  -->

       <!-- 공간 나누는 칸 ex) 가게 정보랑 지도 나눔 -->
       <section class="store-detail" th:object="${store}">   
         

            <!--회색 실선 박스 -->
            <div class="store-container">


        
                <div class="storedetail-all"> <!-- 걍 가운데 위치해주는 용도 -->
                    


                    <!-- main에 들어가는 가게 대표 이미지 
                   (가게 이미지 조회) -->

                    <div class="storedetail-thumbnailbox" >

                        <button>좌</button>

                        <img class="storedetail-thumbnail" 
                        src="/images/storeDetail/store.jpg" alt="가게 기본 이미지">
                    

                        <button>우</button>

                    </div>
                  
                
                   <!-- ************* 가게 내용 ************ -->

                  
                            <!-- 상세 내용 박스 -->
                        <div class="storedetail-box">

                        

                            <!-- 식당 이름 / 북마크 -->
                            <div class="storedetail-two">

                                <!-- 안에 이름이랑 북마크 만들고 
                                    양 옆으로 보내기 -->
                                <div class="storedetail-name">
                                    <span id="storeName" th:text="*{storeName}">가게 이름</span> 
                                </div>
                                
                                <div class="bookmark">

                                    <i class="fa-regular fa-heart" id="bookmarkCheck"
                                    th:classappend="*{bookmark == 1} ? fa-solid : fa-regular"></i>
                                    
                                </div>
                            
                            </div>



                            <!-- 지역 / 카테고리 -->
                            <div class="storedetail-row">
                                <!-- 회원 정보 조회
                                    클릭하면 검색 페이지로 이동 -->
                            <span>비키니시티 | 패스트푸드</span>
                            </div>



                            <!-- 별점 / 클릭시 아래 리뷰 페이지로 내려가는 버튼 -->
                            <div class="storedetail-row">


                                <div class="store-avgScore">
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                   
                                    &nbsp;
                                    <span th:text="*{totalRating}"> 점수 </span>
                                </div>

                                  
                                    
                                <span id="showReview">리뷰></span>

                            </div>



                            <!-- // 윗 칸이랑 공간 분리 //-->
                            
                            <div class="storedetail-mid">

                            
                                <!-- 가게 주소 / 지역 -->
                                <div class="storedetail-two">
                                    <span th:text="*{storeLocation}">
                                        가게 주소
                                    </span>

                                    <!-- 누르면 상세 페이지로 이동
                                        해당 가게의 위치가 상세 페이지에서 검색됨 -->
                                    <button id="storedetailmapbutton">지도</button>
                                </div>


                                <!-- 가게 전화번호 -->
                                <div class="storedetail-row">
                                    
                                    <span type="text" id="memberTel" th:text="*{storeTel}">
                                    가게 전화번호
                                    </span>
                                </div>


                            
                                <!-- 가게 정보 해시태그 -->
                                <div id="storedetail-row">
                                    <!-- 클릭 시 상세 검색 페이지로 이동(카테고리 선택됨) -->
                                <p>#패스트푸드</p>
                                </div>

                                <a href="#" id="toChatting">문의하기</a>
         

                               


                            </div>

                        <!-- // 아래 칸과 공간 분리 // -->


                        </div>


                     <!-- 가게 소개 조회
                        // 이거도 더보기로 할까... 화면 안 이쁜데 뺄 수도-->
                        <div class="store-detail-content">

                            <pre class="store-detail-text" th:text="*{storeInfo}">
집게리아(영어: Krusty Krab)는 즉석식 레스토랑으로 시그니처 버거인 게살버거(영어: Krabby Patty)로 유명하며, 그 요리법은 영업 비밀로 엄격히 보호되고 있다.

이 레스토랑은 소유자이자 매니저인 집게사장이 설립하였다. 
소문에 따르면 집게사장의 딸 진주가 커서 집게리아를 물려받을 예정이라고 한다. 

스폰지밥과 징징이가 유일한 정규직 직원인 이 레스토랑은 비키니시티에서 "식사를 위해 설립된 최고의 식당"으로 간주하며, 
주요 경쟁자인 플랑크톤과 슈퍼컴퓨터이자 플랑크톤의 아내인 카렌이 운영하는 첨 버켓의 끊임없는 도전을 받고 있다.               
                       </pre>

                           
                        </div>
                        <span  class="more-text">
                            <i class="fa-solid fa-chevron-down"></i>
                        </span>
                        <span  class="less-text">
                            <i class="fa-solid fa-chevron-up"></i>
                        </span>

                        <hr>
                     

                     <!-- 가게 예약 버튼-->
                     <div class="storedetail-reservationbuttonbox">
                        <!-- 클릭하면 예약하기 페이지로 이동 -->
                        <th:block th:if="${session.loginMember?.memberCode==1 || session.loginMember==null}">
                            <a th:href="'/store/storeDetail/' + ${store.storeNo} + '/reservation'" id="storereservationbutton">예약하기</a>
                        </th:block>

                        <th:block th:unless="${session.loginMember?.memberCode==1|| session.loginMember==null}">
                            <a href="/" id="storereservationbutton">예약하기</a>
                        </th:block>

                        <!-- <th:block th:unless="${session.loginMember}">
                            <a href="/reservation/reservationDetail" id="storereservationbutton">예약하기</a>
                        </th:block> -->
                     </div>
                    

                </div>


            
            </div> 
            <!-- 회색 실선 container -->

        </section>
      <!-- section 1 끝 -->




<!-- ************************************************************ -->



     <!-- section 2 지도 -->
     <section class="store-detail">
        <!-- 지도 들어갈 자리 -->

        <div id="detailMapBox">

        
            <div id="detailMap">
            
            </div>
        
             
        </div>
       
       
     </section>


<!-- ************************************************************ -->

   
     <!-- section 3 가게 정보 -->
    <section class="store-detail">

        <div class="store-container">

          
           <!-- 영업 시간/ 영업 상태(일주일) 등 조회 -->

            <div class="storedetail-box">
  
                <div class="storedetail-opencontainer">

            
                    <div class="store-reportcontainer">
                        <button type="button" id="storeReport">🚨 폐점 / 가게 정보 정정 신고</button>
                    </div>

                   <!-- ************************************************************** -->
                    <!-- 신고 팝업 공간 -->

                                                
                        <!-- 할 일 상세 조회 시 출력되는 화면  
                            popup layer : 현재 페이지 위에 새로운 레이어를 띄우는 것
                        -->
                                                <!-- 처음에 숨겨놓기 -->



                        <form action="#" id="storeReportForm" class="popup-storereport">
                            <section class="popupbox">
                            
                               <div class="store-report-info">

                                    <div class="store-report-text">

                                        <h4 id="storeReportTitle">폐업신고 / 정보수정 제안</h4>
                                        <span id="popupShut" class="fa-solid fa-xmark"></span>     
                                        
                                        <textarea id="reportStoreContent"
                                        placeholder="수정이 필요한 내용을 적어주세요. &#13; 예) 맛집 이름, 주소, 전화번호 등"></textarea>
                                        
                                    </div>

                                    <div class="check-store-div">
                                        <label class="checkbox">
                                        <input type="checkbox" value="Y">
                                        <i class="check-icon"></i>
                                        &nbsp; 폐업신고

                                        </label>
                                        <br>
                                        <span>해당 음식점이 폐업이 되었을 경우 선택해주세요</span>

                                    </div>
                               </div>
                               
                                
                                <button>보내기</button>
                                
                            </section>

                            
                        </form>


                     
                       
                       

                                        

                   <!-- ************************************************************** -->
                    <div class="store-statuscontainer"> <!-- 영업 시간 리스트 만들 곳 -->


                        <div class="busi-hours-today">
                            
                            <div class="store-statusbox">

                                <span>영업시간</span>
                          
                                <!-- 가게 상태 조회(휴무일/ 브레이크타임/라스트오더) -->
                             <span id="storeStatusText">영업 중</span>
                            </div>


                            <ul class="store-hours-list">
                                <li>
                                    <p class="t-txt">
                                      <Strong>
                                        [오늘] 05.21 (화)
                                      </Strong>
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>
       
                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                             
                            </ul>

                        </div>
                    

             
                      <!--  반복하는 구간 -->

                        <div class="busi-hours-short">

                            
                            <ul class="store-hours-list">

                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.22 (수)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.23 (목)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.24 (금)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.25 (토)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.26 (일)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                                <hr>

                                <li>
                                    <p class="t-txt">   
                                         05.27 (월)  
                                    </p>
                                    <p class="l-txt">
                                        영업시간: 11:00 - 21:30                      
                                    </p>
                                </li>  

                                <li>
                                    <p class="t-txt"></p>
                                    <p class="l-txt">
                                        브레이크타임: 14:30 - 17:00                                           
                                    </p>
                                </li>
                             
                            </ul>
  
                          
                        </div>

                        <div class="more-schedule-info-box">
                            <button id="moreScheduleInfoBtn">더보기</button>
                            <button id="shutScheduleInfoBtn">접기</button>
                        </div>
            
                       
                       

                    </div>


                 </div>


                    
    
                
             <!-- 바텀 선 css 주기 -->

             <!-- // 메뉴 공간 // -->
                
             <!-- 메뉴 ( 사진 확대 팝업/ 더보기) -->
                <div class="storedetail-menucontainer">

                    <div class="menu-info-title">
                        <span>메뉴 정보</span>
 
                    </div>
                   
                    <div class="store-menu-list">
                    <!-- 메뉴 이미지 div 3개 추가 -->
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/burger4.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">게살버거</span>
                            <span id="menuPrice">4000 원</span>
                        </div>
                    </div>
                    
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/burger.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">스페셜버거</span>
                            <span id="menuPrice">22000 원</span>
                        </div>
                    </div>
                    
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/pizza.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">피자</span>
                            <span id="menuPrice">9000 원</span>
                        </div>
                    </div>
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/burger4.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">게살버거</span>
                            <span id="menuPrice">4000 원</span>
                        </div>
                    </div>
                    
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/burger.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">스페셜버거</span>
                            <span id="menuPrice">22000 원</span>
                        </div>
                    </div>
                    
                    <div class="menu-image-container">
                        <div>
                            <img src="/images/storeDetail/pizza.jpg" class="storedetail-menuimage" 
                             alt="메뉴 사진">
                        </div>

                        <div class="menu-info">
                            <span id="menuName">피자</span>
                            <span id="menuPrice">9000 원</span>
                        </div>
                    </div>

                 </div>

                    <div class="moreMenuImageBtnBox">
                        <button id="moreMenuImageBtn">더보기</button>
                        <button id="shutMenuImageBtn">접기</button>
                    </div>
    
    
    
                  
                </div>

                  
                

                <!-- 해시태그(댓글에 달린 해시들) -->

                <div class="storedetail-hashtagcontainer">
                    <span>#음식이 맛있어요!</span>
                    <span>#사장님이 친절해요!</span>
                    <span>#재료가 신선해요!</span>
                    <span>#매장이 청결해요!</span>
                    <span>#분위기가 좋아요!</span>
                </div>

                



            </div>
 
        </div>

    </section>


<!-- ************************************************************ -->


     <!-- section 4 가게 이미지 -->
     <section class="store-detail">

        <div class="store-container">

        <div class="storedetail-box">

            <div class="storeLookText">
                <span>식당 사진</span>
            </div>
              
        
        <div class="detail-images">

         
            <img class="store-look" src="/images/storeDetail/hotdog.jpg">
            <img class="store-look" src="/images/storeDetail/cooking.jpg">
            <img class="store-look" src="/images/storeDetail/counter2.jpg">
            <img class="store-look" src="/images/storeDetail/counter3.jpg">
            <img class="store-look" src="/images/storeDetail/counter.jpg">
            <img class="store-look" src="/images/storeDetail/burger2.jpg" >
           
        </div>

        <div class="moreStoreImageBtnBox">
            <button id="moreStoreImageBtn">사진 더보기</button>
            <button id="shutStoreImageBtn">사진 접기</button>
        </div>

        </div>
        </div>
     </section>
     


<!-- **************************** 리뷰 *************************** -->


     <!-- section 5 가게 리뷰 -->

        <section class="store-detail">

        <div class="store-container">

            <div class="storedetail-box">


               

            <div class="storereview-container">


                <a href="/review/reviewPage">리뷰쓰기</a>

    
                <h3 class="review-title">방문자 리뷰</h3>
                
                <div class="review-avgScore">
                    <i class="rating__star far fa-star"></i>
                    <i class="rating__star far fa-star"></i>
                    <i class="rating__star far fa-star"></i>
                    <i class="rating__star far fa-star"></i>
                    <i class="rating__star far fa-star"></i>
                    <span> 평균 점수</span>
                </div>


                    <div class="storereview-top">


                        <div class="storereview-top-left">
                            <img class="review-member-profile" src="/images/storeDetail/hotdog.jpg" alt="회원 프로필 이미지">
                            <div class="review-info">
                                <span>닉네임</span>
                                
                                <div class="review-memberScore">
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <span> 점수</span>
                                </div>

                            </div>
                        </div>

                        <div class="storereview-top-right">
                            <button type="button" id="reviewReport">🚨신고하기</button>
                            <span>2024-05-17</span>
                        </div>

                    </div>

                    
                    <div class="storereview-mid">
                        <p>리뷰 내용</p>
                    </div>

                    <div class="storereview-bottom">
                        <p>주문 내역</p>
                        <div class="storereview-image">
                            <img class="review-look" src="/images/storeDetail/counter2.jpg">
                            <img class="review-look" src="/images/storeDetail/counter3.jpg">
                            <img class="review-look" src="/images/storeDetail/counter.jpg">
                        </div>
                        <p>해시태그</p>
                        <div class="review-hashtag">
                            <span>#해시태그</span>
                            <span>#해시태그</span>
                            <span>#해시태그</span>
                        </div>
                    </div>

                    <div class="store-reply">
                        <img class="review-store-profile" src="/images/storeDetail/store.jpg" alt="가게 프로필 이미지">

                        <p class="reply-content-bubble">
                            사장님 답글
                        </p>

                    </div>
                    <div class="storereview-top">


                        <div class="storereview-top-left">
                            <img class="review-member-profile" src="/images/storeDetail/hotdog.jpg" alt="회원 프로필 이미지">
                            <div class="review-info">
                                <span>닉네임</span>
                                
                                <div class="review-memberScore">
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <i class="rating__star far fa-star"></i>
                                    <span> 점수</span>
                                </div>

                            </div>
                        </div>

                        <div class="storereview-top-right">
                            <button type="button" id="reviewReport">🚨신고하기</button>
                            <span>2024-05-17</span>
                        </div>

                    </div>

                    
                    <div class="storereview-mid">
                        <p>리뷰 내용</p>
                    </div>

                    <div class="storereview-bottom">
                        <p>주문 내역</p>
                        <div class="storereview-image">
                            <img class="store-look" src="/images/storeDetail/counter2.jpg">
                            <img class="store-look" src="/images/storeDetail/counter3.jpg">
                            <img class="store-look" src="/images/storeDetail/counter.jpg">
                        </div>
                        <p>해시태그</p>
                        <div class="review-hashtag">
                            <span>#해시태그</span>
                            <span>#해시태그</span>
                            <span>#해시태그</span>
                        </div>
                    </div>

                    <div class="store-reply">
                        <img class="review-store-profile" src="/images/storeDetail/store.jpg" alt="가게 프로필 이미지">

                        <p class="reply-content-bubble">
                            사장님 답글
                        </p>

                    </div>
                    
                    <div class="review-more-button">
                        <button id="reviewMoreButton">리뷰 더보기</button>
                    </div>

                  

                </div>
            </div>
        </div>
        </section>
    

        <form action="#" id="reviewReportForm" class="popup-hidden">
            <section class="popupLayer">
               
                <p id="p">리뷰 신고하기</p>
                <span id="popupClose" class="fa-solid fa-xmark"></span>     
               
                <div class="review-reason">
                    <p>리뷰를 신고하려는 이유를 알려주세요!</p>
                    <p>타당한 근거 없이신고된 내용은 관리자 확인 후 반영되지 않을 수 있습니다.</p>
                </div>
    
                <div class="select-report">

                    <div>
                        <input type="radio" name="reportRadio" id="report1"> 주문과 관련없는 내용
                    </div>
                    <div>
                        <input type="radio" name="reportRadio" id="report1"> 욕설/비방 표현입니다.
                    </div>
                    <div>
                        <input type="radio" name="reportRadio" id="report1"> 불쾌한 사진, 영상을 포함하고 있습니다.
                    </div>
                    <div>
                        <input type="radio" name="reportRadio" id="report1"> 개인정보 노출 게시물입니다.
                    </div>
                    <div>
                        <input type="radio" name="reportRadio" id="report1"> 기타 (하단 내용 작성)
                    </div>
                </div>
                   
                <div class="report-button-area">
                    <textarea name="reportContent" id="reportContent"></textarea>
                    <button>신고하기</button>
                </div>
            </section>
        </form>





    
    </main>
       <!-- templetes/common/footer.html  조각 추가 -->
   <th:block th:replace="~{common/footer}"></th:block> 

    <script th:inline="javascript">
        const loginMember = /*[[${session.loginMember?.memberNo}]]*/ "로그인회원";
        const memberCode = /*[[${session.loginMember?.memberCode}]]*/ "회원코드";
    </script>

   <script src="/js/reservation/reservation.js"></script>
   <script src="/js/store/storeDetail.js"></script>


    <aside>
        
         <a href="#bodyTop"><i class="fa-solid fa-angles-up"></i></a>
       
         
         <a href="#"><i class="fa-regular fa-comment"></i></a>
         
         <a href="/store/storeSearch"><i class="fa-solid fa-location-dot"></i></a>
         
         <a href="#bodyBottom"><i class="fa-solid fa-angles-down"></i></a>        
    </aside>

</body>
</html>