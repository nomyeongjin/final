<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>FOODPIN</title>

   <!-- templetes/common/common.html  조각 추가 -->
   <th:block th:replace="~{common/common}"></th:block>
   
   <link rel="stylesheet" href="/css/myPage/myPage-style.css">
   <link rel="stylesheet" href="/css/myPage/store-myPage.css">

</head>
<body>

   <main>

   <!-- templetes/common/header.html  조각 추가 -->
   <th:block th:replace="~{common/header}"></th:block>

   <div class="myPage-container">

      <!-- templetes/myPage/store/storeSide.html  조각 추가 -->
      <th:block th:replace="~{myPage/store/storeSide}"></th:block>
      
      <hr>

      <!-- 마이페이지 본문 -->
      <section class="content-container">

         <!-- 타이틀 영역 -->
         <div class="myPage-title-container">
            <section class="myPage-title">예약 정보</section>
         </div>
         
         <!-- 예약 정보 -->
         <div class="myPage-content-container">

            <!-- 예약 현황 -->
            <section class="section-title">예약 현황</section>
            
            <!-- full calander -->
            <div class="calendar-container">
               <div id="calendar"></div>
            </div>

            <!-- 서브 타이틀 버튼 -->
            <section class="content-sub-title">
               <button class="sub-title-btn" id="reservAll">전체</button>
               <button class="sub-title-btn" id="reservConfirm">확정 예약</button>
               <button class="sub-title-btn" id="reservApply">예약 요청</button>
               <button class="sub-title-btn" id="reservcancel">취소 내역</button>
            </section>

            <!-- 예약 목록 -->
            <div id="reservListContainer">

               <!-- 예약 목록 미존재시 -->
               <th:block th:if="${#lists.isEmpty(reservList)}">
                  <div class="reserv-card">
                     <div class="list-content">
                        <div class="row"><p>예약 정보가 존재하지 않습니다.</p></div>
                     </div>
                  </div>
               </th:block>

               <!-- 예약 목록 존재시 -->
               <th:block th:unless="${#lists.isEmpty(reservList)}">
                  
                  <div th:each="reserv : ${reservList}" th:object="${reserv}" class="reserv-card">
                     
                     <div class="list-title-area">
                        <p class="list-title">예약 정보</p>
                     </div>
   
                     <div class="list-content">
                        <div class="row">
                           <p>예약자명 : <th:block th:text="*{memberName}">예약자명</th:block></p>
                           <p>예약 인원 : <th:block th:text="*{reservCount}">예약 인원</th:block></p>
                        </div>
      
                        <p>예약자 전화번호 :<th:block th:text="*{reservDate}">예약자 전화번호</th:block></p>
                        <p>예약 시간 : <th:block th:text="*{reservTime}">예약 시간</th:block></p>
                        <p>예약 시간 : <th:block th:text="*{reservTime}">예약 시간</th:block></p>
                        <p>예약 요청사항 : <th:block th:text="*{reservRequest}">예약 요청사항</th:block></p>
                     </div>
                  </div>
               </th:block>


            </div>
         </div>
         
      </section>
   </div>  
   </main>


   <!-- templetes/common/footer.html  조각 추가 -->
   <th:block th:replace="~{common/footer}"></th:block> 

   <!-- 풀캘린더 추가 -->
   <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>

   <!-- 마이페이지 JS 추가 -->
   <script src="/js/myPage/store/reservation.js"></script>
</body>
</html>